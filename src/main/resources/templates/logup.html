<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org">
<head th:replace="components::head"></head>

<body>

<header th:replace="components::navBar(logup,${username})"></header>

<div class="back">

    <!--表单-->
    <form action="/logup" class="form-signin card text-center" id="form" method="post" role="form">
        <h1 class="h3 mb-3 font-weight-normal">
            注册
        </h1>

        <!--错误提示-->
        <div class="alert alert-success alert-dismissable" th:unless="${#strings.isEmpty(msg)}">
            <button aria-hidden="true" class="close" data-dismiss="alert" type="button">×</button>
            <h4 th:text="${msg}">
                Error!
            </h4>
        </div>


        <div class="form-group">
            <label for="username">用户名</label>
            <input class="form-control" id="username" name="username" type="text"/>
        </div>
        <div class="form-group">
            <label for="password">密码</label>
            <input class="form-control" id="password" name="password" type="password"/>
        </div>
        <div class="form-group">
            <label for="passwordCheck">重复密码</label>
            <input class="form-control" id="passwordCheck" oninput="checkPasswd()" type="password"/>
        </div>

        <div aria-label="Basic" class="btn-group" role="group">
            <button class="btn aqua-gradient btn-rounded btn-lg submit" disabled="true">密码不一致</button>
            <a class="btn aqua-gradient btn-rounded btn-lg" href="/login" type="button">登录</a>
        </div>


        <!--        <button class="btn btn-lg btn-primary btn-block submit" disabled="true">密码不一致</button>-->
        <!--        <a class="btn btn-lg btn-secondary btn-block " href="/login">有账号？登录！</a>-->
    </form>

</div>

<footer th:replace="components::footBar"></footer>

<script>

    function checkPasswd() {
        let ori_password = $("#password").val();
        let ori_passwordcheck = $("#passwordCheck").val();

        if (ori_password !== ori_passwordcheck) {
            $(".submit").attr('disabled', true);
            $(".submit").text("密码不一致");
        } else {
            $(".submit").attr('disabled', false);
            $(".submit").text("注册");
        }
    }


</script>


<div th:replace="components::js"></div>
</body>
</html>